language: python
python:
  - "2.7"
env:
  - DJANGO=1.11
install:
  - pip install -r requirement/requirement.txt
  - pip install pylint
before_script:
  - git ls-files | grep .sh$ | xargs -l1 bash -n
  - git ls-files | grep .py$ | xargs python -m py_compile
  - sh bin/init-secretkey.sh >> tttt/settings/basic.py
  - django-admin.py --version
  - python manage.py collectstatic --noinput
  - python manage.py migrate --noinput
script:
  - pylint . apps tttt
  - python manage.py test apps.core.tests.SimpleTest
